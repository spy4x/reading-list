<rl-editor-header
  (done)="submit()"
  [doneDisabled]="isSubmitDisabled()"
  [text]="item ? 'Edit Item' : 'Create Item'"
  (cancel)="cancel.emit()"></rl-editor-header>

<form [formGroup]="mainForm" (ngSubmit)="submit()">
  <div class="form-group">
    <label for="urlInput">URL:</label>
    <input type="text"
           class="form-control"
           placeholder="Enter URL"
           [formControl]="mainForm.controls['url']"
           id="urlInput">
  </div>

  <div class="form-group">
    <label for="priorityInput">Priority:</label>
    <input type="number"
           id="priorityInput"
           class="form-control"
           placeholder="Priority (1-3)"
           min="1"
           max="3"
           [formControl]="mainForm.controls['priority']">
  </div>
</form>
<div class="form-group">
  <label for="tagsInput">Tags:</label>
  <input type="text"
         id="tagsInput"
         #tagsInput
         class="form-control"
         [ngbTypeahead]="searchTag"
         [editable]="false"
         [focusFirst]="true"
         [inputFormatter]="tagInputFormatter"
         [resultFormatter]="tagInputFormatter"
         (selectItem)="tagsInputSelectedEvent($event)">
</div>

<div class="selected-tags">
  <button class="tag btn btn-sm btn-primary"
          *ngFor="let tag of selectedTags"
          (click)="removeTag(tag)">
    <span>{{tag.name}}</span>
    <i class="fa fa-times"></i>
  </button>
</div>

<form *ngIf="editMode" [formGroup]="metaDataForm" (ngSubmit)="submit()">
  <hr/>
  <div class="form-group">
    <label for="titleInput">Title:</label>
    <input type="text"
           class="form-control"
           placeholder="Enter title"
           [formControl]="metaDataForm.controls['title']"
           id="titleInput">
  </div>
  <div class="form-group">
    <label for="imageUrlInput">Image URL:</label>
    <input type="text"
           class="form-control"
           placeholder="Enter image URL"
           [formControl]="metaDataForm.controls['imageUrl']"
           id="imageUrlInput">
  </div>
  <div class="form-group">
    <label for="descriptionInput">Description:</label>
    <textarea class="form-control"
              placeholder="Enter description"
              [formControl]="metaDataForm.controls['description']"
              id="descriptionInput"></textarea>
  </div>
</form>

<hr/>

<h4>Preview:</h4>
<button class="btn btn-secondary"
        (click)="editMode = !editMode"
        [disabled]="editMode && this.metaDataForm.invalid">
  {{editMode ? 'Collapse extended form' : 'Edit'}}
</button>
<pre>{{item | json}}</pre>

